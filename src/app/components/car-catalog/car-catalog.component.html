<div class="catalog-container">
  <h2>Catálogo de Veículos</h2>
  <p>Selecione os veículos para ver detalhes no dashboard</p>

  <app-car-filter></app-car-filter>

  <div class="results-info">
    <span>Mostrando {{ filteredCars().length }} de {{ cars.length }} carros</span>
    @if (carFilter.getSelectedCount() > 0) {
      <span class="filter-info">
        (Filtrado por: {{ getSelectedBrandsText() }})
      </span>
    }
  </div>

  <div class="cars-grid">
    @for (car of filteredCars(); track car.id) {
    <div class="car-card" ngFor="let car of cars">
        <div class="car-header">
          <label class="checkbox-container">
            <input type="checkbox" [checked]="car.selected" (change)="toggleSelection(car.id)">
          </label>
          <h3>{{car.brand}} {{car.model}}</h3>
        </div>

        <div class="car-image">
          <img [src]="car.imageUrl" [alt]="car.brand + ' ' + car.model">
        </div>

        <div class="car-details">
          <p><strong>Ano:</strong> {{car.year}}</p>
          <p><strong>Preço:</strong> R$ {{car.price | number:'1.2'}}</p>
          <p>{{car.description}}</p>
        </div>
      </div>
    } 
  </div>
  
  <div class="dashboard-router">
    <button (click)="dashboardRouter()">Ver Dashboard</button>
  </div>
</div>